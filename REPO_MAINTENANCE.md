# Repository Maintenance Guide

This guide helps you maintain a clean repository and avoid the 7000+ commit issue you experienced.

## 🧹 Cleaned Files

The following files were removed from tracking to keep the repository clean:

- `node_modules/` directories (can be regenerated with `npm install`)
- `go.sum` files (regenerated with `go mod tidy`)
- `.exe` files (build artifacts)
- `package-lock.json` files (regenerated with `npm install`)
- `typechain-types/` (generated by Hardhat)
- Build outputs (`.next/`, `build/`, `dist/`)
- Cache directories
- Log files

## 🛠️ How to Regenerate Dependencies

After cloning or when starting development:

```bash
# Install Node.js dependencies
npm install

# For services/studio
cd services/studio
npm install
cd ../..

# Generate Go dependencies
cd backend
go mod tidy
cd ..

cd services/blockdag-node
go mod tidy
cd ../..

# For smart contracts
cd contracts/smart-contracts
npm install
cd ../..
```

## 🔧 Maintenance Scripts

### Clean Repository (PowerShell)
```powershell
.\scripts\clean-repo.ps1
```

### Before Committing
Always run this checklist:
1. Run `.\scripts\clean-repo.ps1` to remove generated files
2. Check `git status` - only source files should be staged
3. Verify no `node_modules`, `.exe`, or build files are being committed

## 📝 .gitignore Features

The updated `.gitignore` includes patterns for:
- **Node.js**: node_modules, package-lock.json, build outputs
- **Go**: binaries, go.sum, vendor directories
- **Docker**: build contexts and generated files
- **AI/ML**: model files, cache directories
- **Blockchain**: artifacts, typechain-types, cache
- **Development**: IDE files, logs, temporary files

## 🚨 Avoiding Commit Bloat

**DO NOT commit these files:**
- `node_modules/` (install with `npm install`)
- `*.exe` files (build with `go build`)
- `go.sum` (generate with `go mod tidy`)
- `package-lock.json` (generate with `npm install`)
- Build outputs (`.next/`, `build/`, `dist/`)
- Cache directories
- Log files

## 📊 Repository Size Impact

**Before cleanup**: 7000+ commits with generated files
**After cleanup**: Clean history with only source code

Estimated size reduction: 80-90% smaller repository

## 🔄 Regular Maintenance

Run weekly:
```bash
# Clean generated files
.\scripts\clean-repo.ps1

# Check for accidentally tracked files
git status

# If any generated files appear, add them to .gitignore
```
